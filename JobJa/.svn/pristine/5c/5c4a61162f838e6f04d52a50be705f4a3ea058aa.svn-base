<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>

<link rel="stylesheet" type="text/css" href="/resources/css/enterprise.css">

<style>

.mypage-body-con {
	background-color: #fff;
	border-radius: 30px;
	padding: 24px;
	height: 800px;
}

.body-sub-title {
	font-size: 24px;
	font-weight: bold;
	margin-bottom: 8px;
}

.title-hr {
	border: 1px solid #ccc;
	margin-bottom: 8px;
}

.recruit-li{
    font-size: 15px;
    font-weight: bold;
}

.empty-title{
	text-align: center;
    font-size: 20px;
    font-weight: bold;
    margin-top: 20%;
    color: tomato;
}

.highlight {
    color: #00c362; 
}

.not-search{
	display: flex;
    justify-content: flex-end;
}

.not-keyword {
    border: 1px solid rgb(212, 212, 212);
    border-radius: 5px;
    cursor: pointer;
    padding: 5px;
}

.not-search-btn {
    align-items: center;
    justify-content: center;
    background-color: white;
    border: 1px solid rgb(212, 212, 212);
    border-radius: 5px;
    padding:5px;
}

.not-keyword:focus {
	 border: 1px solid green;
	 outline: none;
}

.not-search-btn:hover {
	border: 1px solid green;
}

.not-keyword:hover {
	 border: 1px solid green;
}

.date{
	border: 1px solid #c9c9c9;
}

.recruite-cen{
	width: 1060px;
	padding: 20px 0px;
    margin: auto;
}

.rec-list{
	margin-top: 16px;
}

.span-list {
	text-align: center;
	padding: 0px 20px 0px 20px;
    display: grid;
    align-items: center;
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
}

.rec-item {
	border: 1px solid #e5e6e9;
    border-radius: 12px;
}

.rec-part2 {
	color: #323438;
    line-height: 22px;
    font-size: 15px;
/*     font-weight: bold; */
    white-space: nowrap;
    margin: 16px 0 16px;
}

.select-form{
	border-color: gray;
    border-radius: 5px;
    width: 140px;
    border: 1px solid #C4C4C4;
    box-sizing: border-box;
    border-radius: 10px;
    padding: 5px 5px;
}

.rec-btn {
    align-items: center;
    justify-content: center;
    background-color: white;
    border: 1px solid rgb(212, 212, 212);
    border-radius: 5px;
    cursor: pointer;
    padding: 5px;
}

.rec-btn:hover{
	background-color: #00c362;
	color: white;
};

.ajax-rec-btn {
    align-items: center;
    justify-content: center;
    background-color: white;
    border: 1px solid rgb(212, 212, 212);
    border-radius: 5px;
    cursor: pointer;
    padding: 8px;
}

.ajax-rec-btn:hover{
	background-color: #00c362;
	color: white;
};

.appList {
	font-size: 14px;
	font-weight: bold;
	cursor: pointer;
	text-align: center;
}

.appList:hover {
	font-size: 18px;
	cursor: pointer;
}

.body-sub-con{
	 height: 680px !important;
}

.not-search{
	display: flex;
    justify-content: flex-end;
}

.not-keyword {
    border: 1px solid rgb(212, 212, 212);
    border-radius: 5px;
    cursor: pointer;
    padding: 5px;
}

.not-search-btn {
    align-items: center;
    justify-content: center;
    background-color: white;
    border: 1px solid rgb(212, 212, 212);
    border-radius: 5px;
    cursor: pointer;
    padding:5px;
}

.not-keyword:focus {
	 border: 1px solid green;
	 outline: none;
}

.not-search-btn:hover {
	border: 1px solid green;
}

.not-keyword:hover {
	 border: 1px solid green;
 }
 
 .sp-bold {
 	font-weight: bold;
 }
 
</style>

<!-- 지원자 현황에 채용공고 목록 페이지 -->
<div class="mypage-body-con">
	<div class="sub-title-area">
		<div class="body-sub-title">채용 공고 <span class="highlight">(${fn:length(recruitVO)})</span></div>
		<hr class="title-hr" />
	</div>
		<div class="body-sub-con">
	<div class="recruite-cen">
		
		<!-- 검색기능 아직 깡통 -->
	<form class="not-search mb-20">
		<input class="not-keyword" type="text" placeholder="검색 지금 깡통이에요" name="keyword" value="${keyword}" />
		<input class="not-search-btn" type="submit" value="검색" />
	</form>
		
	<div class="rec-item mt-20">
		<div class="span-list" style="padding: 15px; font-weight: bold;">
			<div>마감날짜</div>
			<div>공고제목</div>
			<div>모집기간</div>
			<div>지원자목록</div>
			<div>지원자 수</div>
	 	</div>
	</div>
		
			<div class="rec-item mt-20"></div>
		
	<div class="recruit-sector">
		<c:if test="${fn:length(recruitVO) == 0 }">
			<div class="bg-white mt-20">
				<p class="empty-title"> ※ 진행중인 채용 공고가 없습니다 ※ </p>
			</div>
		</c:if>
		
		<!-- D-DAY 남은 공고 -->
		<div class="rec-list mt-30">
			<c:forEach var="recruitVO" items="${recruitVO}">
			    <c:choose>
			        <c:when test="${recruitVO.remainingDate > 0}">
			            <div class="rec-item mt-20">
				            <div class="recruit-item-top">
			                    <input type="hidden" name="recruitNo" value="${recruitVO.recruitNo}">
			                </div>
			                
			                <div class="recruit-item-mid">
			                	<div class="span-list">
	                        		<span class="txt-orange p-13 bold">D-${recruitVO.remainingDate}</span>
					                <span class="rec-part2">${recruitVO.recruitTitle}</span>
						            <span><fmt:formatDate value="${recruitVO.recruitStdt}" pattern="yy-MM-dd" /> ~
						            <fmt:formatDate value="${recruitVO.recruitEddt}" pattern="yy-MM-dd" /></span>
									<span class="appList">
									<a href="/enter/{recruitNo}/applicationList"> 지원자 현황 </a>
<%-- 										<a href="/enter/applicationList?recruitNo=${recruitVO.recruitNo}"> 지원자 현황 </a> --%>
									</span>
									<span class="sp-bold">${recruitVO.appCount}</span>
			                	</div>
			                </div>
			                </div>
			        </c:when>
			    </c:choose>
			</c:forEach>
		</div>
		
		<!-- 상시채용 -->
		<div class="rec-list mt-30">
			<c:forEach var="currentRecruitVO" items="${recruitVO}">
			    <c:choose>
			        <c:when test="${currentRecruitVO.remainingDate == null}">
			            	<div class="rec-item mt-20">
				            <div class="recruit-item-top">
			                    <input type="hidden" name="recruitNo" value="${currentRecruitVO.recruitNo}">
			                </div>
			                
			                <div class="recruit-item-mid">
			                
			                	<div class="span-list">
			                        <span class="txt-sig p-13 bold">상시채용</span>
					                <span class="rec-part2">${currentRecruitVO.recruitTitle}</span>
						            <span><fmt:formatDate value="${currentRecruitVO.recruitStdt}" pattern="yy-MM-dd" /> ~
						            <fmt:formatDate value="${currentRecruitVO.recruitEddt}" pattern="yy-MM-dd" /></span>
									<span class="appList">
									<a href="/enter/{recruitNo}/applicationList"> 지원자 현황 </a>
<%-- 										<a href="/enter/applicationList?recruitNo=${currentRecruitVO.recruitNo}"> 지원자 현황 </a> --%>
									</span>
									<span class="sp-bold">${currentRecruitVO.appCount}</span>
									
			                	</div>
			                </div>
			                </div>
			        </c:when>
			    </c:choose>
			</c:forEach>
		</div>
		
		<!-- 마감된 공고 -->
		<div class="rec-list mt-30">
		    <c:forEach var="blankRecruitVO" items="${recruitVO}">
                <c:choose>
                    <c:when test="${blankRecruitVO.remainingDate < 0 }">
			        	<div class="rec-item mt-20">
				            <div class="recruit-item-top">
				            	<input type="hidden" name="recruitNo" value="${blankRecruitVO.recruitNo}">
		            		</div>
		            
		           		 <div class="recruit-item-mid">
		           		 
			                <div class="span-list">
								<span class="txt-darkgray p-13 bold">마감</span>
				                <span class="rec-part2">${blankRecruitVO.recruitTitle}</span>
					            <span><fmt:formatDate value="${blankRecruitVO.recruitStdt}" pattern="yy-MM-dd" /> ~
					            <fmt:formatDate value="${blankRecruitVO.recruitEddt}" pattern="yy-MM-dd" /></span>
								<span class="appList">
									<a href="/enter/{recruitNo}/applicationList"> 지원자 현황 </a>
								
<%-- 									<a href="/enter/applicationList?recruitNo=${blankRecruitVO.recruitNo}"> 지원자 현황 </a> --%>
								</span>
									<span class="sp-bold">${blankRecruitVO.appCount}</span>
				            
				            </div>
		            	</div>
			        </div>
                    </c:when>
                </c:choose>
		    </c:forEach>
		</div>
		<div id="endList"></div>
		</div>
		</div>
	</div>
</div>
