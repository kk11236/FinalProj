<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jobJa.myPage.member.mapper.MemProfileMapper">
	<resultMap type="memberVO" id="memberVOMap">
		<result property="memId" column="MEM_ID"/>
		<result property="memPass" column="MEM_PASS"/>
		<result property="memNm" column="MEM_NM"/>
		<result property="memPostno" column="MEM_POSTNO"/>
		<result property="memAddr" column="MEM_ADDR"/>
		<result property="memAddr2" column="MEM_ADDR2"/>
		<result property="memTel" column="MEM_TEL"/>
		<result property="memRegDt" column="MEM_REG_DT"/>
		<result property="memOpenResume" column="MEM_OPEN_RESUME"/>
		<result property="memStateCd" column="MEM_STATE_CD"/>
		<result property="memBirth" column="MEM_BIRTH"/>
		<result property="memGen" column="MEM_GEN"/>
		<result property="memEmail" column="MEM_EMAIL"/>
		<result property="memCd" column="MEM_CD"/>
		<result property="memYn" column="MEM_YN"/>
		<result property="memIntrcn" column="MEM_INTRCN"/>
		<result property="memNcnm" column="MEM_NCNM"/>
		<result property="memAfId" column="MEM_AF_ID"/>
		<result property="memWishJobCate" column="MEM_WISH_JOB_CATE"/>
		<result property="memWishJob" column="MEM_WISH_JOB"/>
		<result property="enabled" column="ENABLED"/>
		<result property="memIntWord" column="MEM_INT_WORD"/>
	</resultMap>
	
	<resultMap type="comDetCodeInfoVO" id="comCodeDetInfoVOMap">
		<result property="comDetCd" column="COM_DET_CD"/>
		<result property="comCd" column="COM_CD"/>
		<result property="comDetCdNm" column="COM_DET_CD_NM"/>
		<result property="comDetDescriptions" column="COM_DET_DESCRIPTIONS"/>
	
	</resultMap>
	
	
	
	<select id="comDetCode" resultType="comDetCodeInfoVO">
		SELECT 
		   		 COM_DET_CD, COM_CD, COM_DET_CD_NM, COM_DET_DESCRIPTIONS
		FROM      
		   		 COM_DET_CODE_INFO
		WHERE 
				COM_DET_CD LIKE 'IKW01%'
				OR COM_CD  LIKE 'MWJ01'
	</select>

	<select id="detail" parameterType="String" resultType="memberVO">
		SELECT 
		          MEM_NM, MEM_POSTNO, MEM_ADDR
		        , MEM_ADDR2, MEM_TEL, MEM_REG_DT, MEM_OPEN_RESUME
		        , MEM_STATE_CD, MEM_BIRTH, MEM_GEN, MEM_EMAIL, MEM_CD
		        , MEM_YN, MEM_INTRCN, MEM_NCNM, MEM_AF_ID, MEM_WISH_JOB_CATE
		        , MEM_WISH_JOB, ENABLED, MEM_INT_WORD
		FROM    MEMBER
		WHERE MEM_ID = #{memId}
	</select>
	
	<update id="mypagePost" parameterType="memberVO">
		UPDATE MEMBER
		    SET   MEM_NM 			= #{memNm}
			    , MEM_POSTNO 		= #{memPostno}
			    , MEM_ADDR 			= #{memAddr}
			    , MEM_ADDR2			= #{memAddr2}
			    , MEM_TEL			= #{memTel}
			    , MEM_BIRTH			= #{memBirth}
			    , MEM_GEN			= #{memGen}
			    , MEM_EMAIL			= #{memEmail}
			    , MEM_INTRCN		= #{memIntrcn}
			    , MEM_NCNM			= #{memNcnm}
			    , MEM_WISH_JOB_CATE = #{memWishJobCate}
			    , MEM_INT_WORD		= #{memIntWord}
		WHERE MEM_ID = #{memId}
	
	</update>

</mapper>