package jobJa.myPage.member.service.impl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.web.multipart.MultipartFile;

import jobJa.atchFile.controller.FileController;
import jobJa.common.vo.ComCodeInfoVO;
import jobJa.common.vo.ComDetCodeInfoVO;
import jobJa.myPage.member.mapper.MemProfileMapper;
import jobJa.myPage.member.service.MemProfileService;
import jobJa.myPage.member.vo.MemberVO;

@Service
public class MemProfileServiceImpl implements MemProfileService {
	
	@Autowired
	MemProfileMapper memProfileMapper;
	
	@Autowired
	FileController fileController;
	
	//회원 상세정보 가져오기.
	@Override
	public MemberVO detail(String memId) {
		return this.memProfileMapper.detail(memId);
	}
	
	//직군 관심키워드 가져오기
	@Override
	public List<ComDetCodeInfoVO> comDetCode() {
		return this.memProfileMapper.comDetCode();
	}
	
	//프로필 수정
	@Override
	public int mypagePost(MemberVO memberVO) {
		
		int result = this.memProfileMapper.mypagePost(memberVO);
		
		MultipartFile[] uploadFile = memberVO.getUploadFile();
		
		result += fileController.uploadFile(uploadFile, memberVO.getMemId());
		
		return result;
	}
	
	

}
